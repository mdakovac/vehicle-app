<h1 class="vehicles-title">Vehicles</h1>

<div class="filter">
	<mat-form-field class="filter-input" appearance="fill">
		<mat-label>Search</mat-label>
		<input
			matInput
			type="text"
			[(ngModel)]="filterInputValue"
			name="query"
			(keyup.enter)="onFilter()"
		/>
		<button
			*ngIf="filterInputValue"
			matSuffix
			mat-icon-button
			aria-label="Clear"
			(click)="filterInputValue = ''"
		>
			<mat-icon>close</mat-icon>
		</button>
	</mat-form-field>
	<button
		mat-flat-button
		class="filter-button"
		color="primary"
		(click)="onFilter()"
	>
		Search
	</button>
</div>

<table mat-table [dataSource]="data.items">
	<ng-container matColumnDef="_id">
		<th mat-header-cell *matHeaderCellDef>_id</th>
		<td mat-cell *matCellDef="let element">{{ element._id }}</td>
	</ng-container>
	<ng-container matColumnDef="make">
		<th mat-header-cell *matHeaderCellDef>Make</th>
		<td mat-cell *matCellDef="let element">{{ element.make }}</td>
	</ng-container>
	<ng-container matColumnDef="model">
		<th mat-header-cell *matHeaderCellDef>Model</th>
		<td mat-cell *matCellDef="let element">
			{{ element.model }}
		</td>
	</ng-container>
	<ng-container matColumnDef="year">
		<th mat-header-cell *matHeaderCellDef>Year</th>
		<td mat-cell *matCellDef="let element">{{ element.year }}</td>
	</ng-container>

	<!-- <ng-container matColumnDef="details">
		<th mat-header-cell *matHeaderCellDef>Details</th>
		<td mat-cell *matCellDef="let element">
			<button
				mat-icon-button
				color="primary"
				(click)="redirectToDetails(element.id)"
			>
				<mat-icon class="mat-18">reorder</mat-icon>
			</button>
		</td>
	</ng-container>
	<ng-container matColumnDef="update">
		<th mat-header-cell *matHeaderCellDef>Update</th>
		<td mat-cell *matCellDef="let element">
			<button
				mat-icon-button
				color="accent"
				(click)="redirectToUpdate(element.id)"
			>
				<mat-icon class="mat-18">system_update</mat-icon>
			</button>
		</td>
	</ng-container>
	<ng-container matColumnDef="delete">
		<th mat-header-cell *matHeaderCellDef>Delete</th>
		<td mat-cell *matCellDef="let element">
			<button
				mat-icon-button
				color="warn"
				(click)="redirectToDelete(element.id)"
			>
				<mat-icon class="mat-18">delete</mat-icon>
			</button>
		</td>
	</ng-container> -->
	<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
	<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
<mat-paginator
	[length]="data.total"
	[pageSize]="data.rpp"
	[pageSizeOptions]="[10, 25, 50]"
	[pageIndex]="data.page"
	(page)="pageEvent = onPaginatorChange($event)"
	showFirstLastButtons
>
</mat-paginator>
